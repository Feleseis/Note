---
title: const myExperience = new Demo();
date: 2017-03-11 23:32:03
tags:
---

---
### _20170311_
首先是对自己从年后开始自学以来的一个综合考验与锻炼，其次是希望这个demo能够在找工作的时候能很好地向面试官展示自己的能力。
初步设想是做个小游戏，当然不是网上那些常见的诸如2048、别踩白块之类的。当然不是说这些很low，而是想做个与众不同的，即能综合运用到所学的内容、又能让人有眼前一亮的感觉，岂不美哉？
游戏的具体细节目前还没什么头绪，只能走一步算一步，慢慢地去完善。

---
### _20170313_
昨天在b站上看到个有关up主排名的视频,突然灵光一现.为什么不做个有关up主各种相关数据可视化的demo呢,所以游戏就现暂时放一边.

---
### _20170314_
试了下vs code。有蛮多功能都不错，就是快捷键和之前用的atom不一样，冲突难以避免，权衡之下又滚回atom。
demo方面布局参考了下bilibili创作中心的布局，左边的导航栏为固定宽度，右边展示区为自适应。侧边导航使用了Font Awesome字体，逼格立马提升一个档次。
在edge上出现了图标字体无法显示的问题，在网上找了一些解决方案：比如content="IE=edge"、css设置content: "\f00c";等都没有解决问题。直到打开了控制台瞄了一眼
```shell
CSS3117: @font-face 跨源请求失败。资源访问受限。
fontawesome-webfont.woff
CSS3120: 无可用于 @font-face 规则的字体
font-awesome.min.css (3,96)
```
原来是没找到需要加载的字体，原因是我在fonts中只放了woff2文件。不过经此一番折腾得知了edge支持的字体只有woff、ttf这两种，虽然这知识没什么大用处。

---
### _20170315_
做到数据展示的部分，一开始打算用div来做柱状图。但这样一来显现方式单一、数据量大的话性能上必然存在问题。所以先学下基础的canvas，后续结合echarts做数据上的展示

---
### _20170319_
先上成果
![bilibili](http://on16qa9r1.bkt.clouddn.com/20170319060142.png)
这几天攻克了几个微小的难题
> 初步实现了用echarts展示数据
> 整理了B站获取数据的api，并成功地使用superagent模块向B站发送请求并获取
> 将获取的数据去除不必要的数据重新组织了下json结构。

整理后的json:
```javascript
{
  "mid": "2",
  "name": "碧诗",
  "sex": "男",
  "face": "http://i1.hdslb.com/bfs/face/8b72192cc8ffda49f6fd1c25d3266a9f5616fc78.jpg",
  "regtime": 1245824205,
  "place": "上海市 浦东新区",
  "birthday": "0000-09-19",
  "fans": 131190,
  "playNum": 8129139,
  "current_level": 5,
  "current_exp": 27647,
  "fansinfo": [],
  "videosinfo": {
    "submit": 28,
    "tlist": {
      "1": {
        "tid": 1,
        "name": "动画",
        "count": 8
      },
      //...
      "160": {
        "tid": 160,
        "name": "生活",
        "count": 5
      }
    },
    "vlist": [
      {
        "aid": 910689,
        "video": {
          "view": 258028,
          "danmaku": 1679,
          "reply": 1458,
          "favorite": 554,
          "coin": 1847,
          "share": 19,
          "now_rank": 0,
          "his_rank": 43
        }
      },
      //...
      {
        "aid": 5626817,
        "video": {
          "view": 239717,
          "danmaku": 419,
          "reply": 4612,
          "favorite": 1199,
          "coin": 3347,
          "share": 377,
          "now_rank": 0,
          "his_rank": 0
        }
      }
    ]
  }
}
```

后续计划
> 将获取数据的代码优化下，目前的代码简直是一坨屎，不忍直视
> 实现将数据存入数据库
> 前端方面重新设计下首页结构

现在是早上7:37，一不小心就通宵了……

---
### _20170321_
昨天将获取对象的代码改写了下 详情[学以致用](http://felese.com/2017/03/21/20170321-1/)
但还是存在诸多问题
> 多个异步操作形成了强耦合
> 整段代码的逻辑不清晰

---
### _20170322_
